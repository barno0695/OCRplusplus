<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Minimal Django File Upload Example</title>
	</head>

	<style type="text/css">

		#header {
	    text-align:center;
	    padding:5px;
		}
		#nav {
		    line-height:30px;
		    height:3000px;
		    width:750px;
		    float:left;
		    padding:5px;
		}
		#section {
		    width:350px;
		    float:left;
		    padding:10px;
		}
		#form_made{
			position: relative;
			top: 40px;
			left: 550px;
			width: 300px;
			background-color: white;
			z-index: 500px;
			margin: 20px;
			padding: 10px;
		}

		#submit {
		    background-color: green;
		    -moz-border-radius: 5px;
		    -webkit-border-radius: 5px;
		    border-radius:6px;
		    color: #fff;
		    font-family: 'Oswald';
		    font-size: 20px;
		    text-decoration: none;
		    cursor: pointer;
		    border:none;
		}
		#submit:hover {
		    border: none;
		    background-color :LightGrey;
		    box-shadow: 0px 0px 1px #777;
		}

		#process:hover{
			color: LightGrey;
		}
		#process{
			position:relative;
			left:0px;
			top:-0px;
			font-size:25px;
			color: 	#800000;
			background-color:#D2691E;
		}

		#op_button:hover{
			color: LightGrey;
		}
		#op_button{
			position:relative;
			left:0px;
			top:0px;
			font-size:25px;
			color: black;
			background-color: green;
		}
		#aut_output{
			position: relative;
			top: 0px;
			height: 50px;
		}
		#titl_output{
			position: relative;
			top: 0px;
			height: 50px;
		}
		#email_output{
			position: relative;
			top: 0px;
			height: 20px;
		}

		#affil_output{
			position: relative;
			top: 0px;
			height: 40px;
		}

		#map_output{
			position: relative;
			top: 0px;
			height: 50px;
		}

		#fig_output{
			position: relative;
			top: 0px;
			height: 50px;
		}

		#tab_output{
			position: relative;
			top: 0px;
			height: 50px;
		}

		#refcit_output{
			position: relative;
			top: 0px;
			height: 150px;
		}

		#sec_output{
			position: relative;
			top: 0px;
			height: 50px;
		}

		#fn_output{
			position: relative;
			top: 0px;
			height: 50px;
		}

		#url_output{
			position: relative;
			top: 0px;
			height: 50px;
		}

		#pdf{
			position:relative;
			left:0px;
			top:0px;
			font-size:25px;
			color: LightGrey;
		}

	</style>

	<script>

		function op()
		{
			fn();
			url();
			tab();
			fig();
			sec();
			affil();
			map();
			email();
			aut();
			titl();
		}


		function titl()
		{
			var iframe_t = document.createElement('iframe');
			iframe_t.id = 'iframe_t';
			iframe_t.style.display = 'none';
			document.body.appendChild(iframe_t);
			iframe_t.src = '../../media/documents/eval_title.txt';
			// subprocess.call("echo lool",shell=true);
			setTimeout(function(){
			    var text = document.getElementById('iframe_t').contentDocument.body.firstChild.innerHTML;
			    // console.log(text);
			    var arr = text.split("&lt;&lt;title&gt;&gt;");
			    // for(i=arr.length-1;i>0;i--)
			    // {
			    // console.log(arr);
		    	text = arr[1];
		    	var table = document.getElementById("myTable");

				// Create an empty <tr>
				var row = table.insertRow(1);

				// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
				var cell1 = row.insertCell(0);
				var cell2 = row.insertCell(1);
				// // var cell3 = row.insertCell(2);				// var cell4 = row.insertCell(3);
				//// // var cell5 = row.insertCell(4);

				// Add some text to the new cells:
				cell2.innerHTML = "<textarea id=\"titl_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
				document.getElementById("titl_output").style.display = "block";
				document.getElementById("titl_output").innerHTML = text.slice(1,-2);
				cell1.innerHTML = "Title";
				// // cell3.innerHTML = "<input type=\"radio\" name=\"title\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
				// // cell4.innerHTML = "<input type=\"radio\" name=\"title\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
				// // cell5.innerHTML = "<input type=\"radio\" name=\"title\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			}, 1000);
		}

		function aut()
		{
			var iframe = document.createElement('iframe');
			iframe.id = 'iframe';
			iframe.style.display = 'none';
			document.body.appendChild(iframe);
			iframe.src = '../../media/documents/eval_author.txt';
			setTimeout(function(){
			    var text = document.getElementById('iframe').contentDocument.body.firstChild.innerHTML;
			    // console.log(text);
			    var arr = text.split("&lt;&lt;name&gt;&gt;");
			    var noAut = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);					var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"aut_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("aut_output").style.display = "block";
					document.getElementById("aut_output").innerHTML = text.slice(1,-1);
					cell1.innerHTML = "Author " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"author"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"author"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"author"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";

			    }
			    document.getElementById("noAut").value = noAut;
			    // document.getElementById('ta_output').style.display = "block";
			    // document.getElementById('ta_output').innerHTML = text ;
			}, 1000);
		}
		function email()
		{
			var eiframe = document.createElement('iframe');
			eiframe.id = 'eiframe';
			eiframe.style.display = 'none';
			document.body.appendChild(eiframe);
			eiframe.src = '../../media/documents/eval_emails.txt';
			setTimeout(function(){
			    var text = document.getElementById('eiframe').contentDocument.body.firstChild.innerHTML;
			    var arr = text.split("&lt;&lt;Email&gt;&gt;");
			    var noEmail = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);					var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"email_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("email_output").style.display = "block";
					document.getElementById("email_output").innerHTML = text.slice(2,-1);
					cell1.innerHTML = "Email " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"email"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"email"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"email"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			    }
			    document.getElementById('noEmail').value = noEmail;
			    // document.getElementById('ta_output').style.display = "block";
			    // document.getElementById('ta_output').innerHTML = text ;
			}, 1000);
		}
		function affil()
		{
			var aiframe = document.createElement('iframe');
			aiframe.id = 'aiframe';
			aiframe.style.display = 'none';
			document.body.appendChild(aiframe);
			aiframe.src = '../../media/documents/eval_Affiliations.txt';
			setTimeout(function(){
			    var text = document.getElementById('aiframe').contentDocument.body.firstChild.innerHTML;
			    var arr = text.split("&lt;&lt;Affiliation&gt;&gt;");
			    var noAffil = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);					var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"affil_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("affil_output").style.display = "block";
					document.getElementById("affil_output").innerHTML = text.slice(1,-1);
					cell1.innerHTML = "Affil " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"affil"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"affil"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"affil"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			    }
			    document.getElementById('noAffil').value=noAffil;
			    // document.getElementById('ta_output').style.display = "block";
			    // document.getElementById('ta_output').innerHTML = text ;
			}, 1000);
		}
		function sec()
		{
			var siframe = document.createElement('iframe');
			siframe.id = 'siframe';
			siframe.style.display = 'none';
			document.body.appendChild(siframe);
			siframe.src = '../../media/documents/eval_Secmap.txt';
			setTimeout(function(){
			    var text = document.getElementById('siframe').contentDocument.body.firstChild.innerHTML;
			    var arr = text.split("&lt;&lt;section&gt;&gt;");
			    var noSec = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements)
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);					var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"sec_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("sec_output").style.display = "block";
					document.getElementById("sec_output").innerHTML = text.slice(1,-1);
					cell1.innerHTML = "Section " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"sec"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"sec"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"sec"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			    }
			    document.getElementById('noSec').value=noSec;
			}, 1000);
		}

		function fig()
		{
			var fiframe = document.createElement('iframe');
			fiframe.id = 'fiframe';
			fiframe.style.display = 'none';
			document.body.appendChild(fiframe);
			fiframe.src = '../../media/documents/eval_tables_figures.txt';
			setTimeout(function(){
			    var text = document.getElementById('tabiframe').contentDocument.body.firstChild.innerHTML;
			    var arr = text.split("&lt;&lt;figure&gt;&gt;");
			    var noFig = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements)
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);					var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"fig_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("fig_output").style.display = "block";
					document.getElementById("fig_output").innerHTML = text.slice(1,-1);
					cell1.innerHTML = "Figure " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"fig"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"fig"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"fig"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			    }
			    document.getElementById('noFig').value=noFig;
			}, 1000);
		}

		function tab()
		{
			var tabiframe = document.createElement('iframe');
			tabiframe.id = 'tabiframe';
			tabiframe.style.display = 'none';
			document.body.appendChild(tabiframe);
			tabiframe.src = '../../media/documents/eval_tables_figures.txt';
			setTimeout(function(){
			    var text = document.getElementById('tabiframe').contentDocument.body.firstChild.innerHTML;
			    var arr = text.split("&lt;&lt;table&gt;&gt;");
			    var noTab = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements)
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);					var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"tab_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("tab_output").style.display = "block";
					document.getElementById("tab_output").innerHTML = text.slice(1,-1);
					cell1.innerHTML = "Table " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"tab"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"tab"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"tab"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			    }
			    document.getElementById('noTab').value=noTab;
			}, 1000);
		}

		function url()
		{
			var urliframe = document.createElement('iframe');
			urliframe.id = 'urliframe';
			urliframe.style.display = 'none';
			document.body.appendChild(urliframe);
			urliframe.src = '../../media/documents/eval_url.txt';
			setTimeout(function(){
			    var text = document.getElementById('urliframe').contentDocument.body.firstChild.innerHTML;
			    var arr = text.split("&lt;&lt;url&gt;&gt;");
			    var noUrl = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements)
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);					var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"url_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("url_output").style.display = "block";
					document.getElementById("url_output").innerHTML = text.slice(1,-1);
					cell1.innerHTML = "URL " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"url"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"url"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"url"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			    }
			    document.getElementById('noUrl').value=noUrl;
			}, 1000);
		}

		function fn()
		{
			var fniframe = document.createElement('iframe');
			fniframe.id = 'fniframe';
			fniframe.style.display = 'none';
			document.body.appendChild(fniframe);
			fniframe.src = '../../media/documents/eval_footnote.txt';
			setTimeout(function(){
			    var text = document.getElementById('fniframe').contentDocument.body.firstChild.innerHTML;
			    var arr = text.split("&lt;&lt;footnote&gt;&gt;");
			    var noFn = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements)
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);					var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"fn_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("fn_output").style.display = "block";
					document.getElementById("fn_output").innerHTML = text.slice(1,-1);
					cell1.innerHTML = "Footnote " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"fn"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"fn"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"fn"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			    }
			    document.getElementById('noFn').value=noFn;
			}, 1000);
		}

		function map()
		{
			var mapiframe = document.createElement('iframe');
			mapiframe.id = 'mapiframe';
			mapiframe.style.display = 'none';
			document.body.appendChild(mapiframe);
			mapiframe.src = '../../media/documents/eval_map.txt';
			setTimeout(function(){
			    var text = document.getElementById('mapiframe').contentDocument.body.firstChild.innerHTML;
			    var arr = text.split("&lt;&lt;map&gt;&gt;");
			    var noMap = arr.length-1;
			    for(i=arr.length-1;i>0;i--)
			    {
			    	text = arr[i];
			    	var table = document.getElementById("myTable");

					// Create an empty <tr>
					var row = table.insertRow(1);

					// Insert new cells (<td> elements)
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					// var cell3 = row.insertCell(2);
					// var cell4 = row.insertCell(3);
					// var cell5 = row.insertCell(4);

					// Add some text to the new cells:
					cell2.innerHTML = "<textarea id=\"map_output\" style=\"background-color:LightGrey;\" class=\"answer_list\" rows=\"30\" cols=\"60\" > WELCOME</textarea>";
					document.getElementById("map_output").style.display = "block";
					document.getElementById("map_output").innerHTML = text.slice(1,-1);
					cell1.innerHTML = "Map " + i;
					// cell3.innerHTML = "<input type=\"radio\" name=\"map"+i+"\" value=\"correct\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell4.innerHTML = "<input type=\"radio\" name=\"map"+i+"\" value=\"incorrect\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
					// cell5.innerHTML = "<input type=\"radio\" name=\"map"+i+"\" value=\"partial\" style=\"position:relative; left:5px; height:20px; width:20px;\">";
			    }
			    document.getElementById('noMap').value=noMap;
			}, 1000);
		}
	</script>

	<body bgcolor="DarkViolet" text="white">

		<div id="header">
			<form action="{% url "list" %}" method="post" enctype="multipart/form-data">
				{% csrf_token %}
				{{ form.non_field_errors }}
				{{ form.docfile.label_tag }} {{ form.docfile.help_text }}
				{{ form.docfile.errors }}
				{{ form.docfile }}
				<p><input id="submit" type="submit" value="Upload" /></p>
			</form>
			<!-- <a id="process" href="runScript">Process</a> -->
			<a id="op_button" onclick="op()">Output<a>
		</div>
		<form action="{% url "vote" %}" method="post" id="loginform">
			{% csrf_token %}
			<div id="nav">
			<table id="myTable" border=1>

				<tr>
					<th>
						Features
					</th>

					<th>
						Extracted Output
					</th>

					<!-- <th>
						<label>Right</label>
					</th>

					<th>
						<label>Wrong</label>
					</th>

					<th>
						<label>Partial</label>
					</th> -->
				</tr>

			</div>

			<div id="section" style="position:fixed; top:55px; left:750px;">
			<embed id="pdf" src="../../media/documents/input.pdf" width="550px" height="600px">
			</div>

			<!-- <a href="vote" id="submit_button">Submit</a>	 -->
		    <!-- <label for="your_name">Your email : </label>
		    <input id="email" type="email" name="email" value="{{ email }}">
		    <input type="hidden" id="noAut" name="noAut" value="noAut">
		    <input type="hidden" id="noEmail" name="noEmail" value="noEmail">
		    <input type="hidden" id="noSec" name="noSec" value="noSec">
		    <input type="hidden" id="noTab" name="noTab" value="noTab">
		    <input type="hidden" id="noFig" name="noFig" value="noFig">
		    <input type="hidden" id="noUrl" name="noUrl" value="noUrl">
		    <input type="hidden" id="noMap" name="noMap" value="noMap">
		    <input type="hidden" id="noAffil" name="noAffil" value="noAffil">
		    <input type="hidden" id="noFn" name="noFn" value="noFn">
		    <input type="submit" value="OK"> -->
		</form>

	</body>

</html>
